/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmory imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmory exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		Object.defineProperty(exports, name, {
/******/ 			configurable: false,
/******/ 			enumerable: true,
/******/ 			get: getter
/******/ 		});
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 2);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports) {

eval("module.exports = function(obj){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\nwith(obj||{}){\n__p+='<div class=\"rf-menu-settings\">\\n\t<div class=\"menu-settings-header\">\\n        <h3>'+\n((__t=( title ))==null?'':_.escape(__t))+\n'</h3>\\n        <a href=\"#\" class=\"menu-settings-close\">x</a>\t\t\\n\t</div>\\n    <div class=\"menu-settings-body\">\\n        <div class=\"menu-settings-sidebar\">\\n            <ul>\\n                <li class=\"active\"><a href=\"#\">Items</a></li>\\n                <li><a href=\"#\">Settings</a></li>\\n            </ul>\\n        </div>\\n        <div class=\"menu-settings-content\">\\n            <div class=\"menu-settings-bar\">\\n                <select name=\"num_columns\" id=\"\">\\n                    <option value=\"1\">1 Column</option>\\n                    <option value=\"2\">2 Columns</option>\\n                    <option value=\"3\">3 Columns</option>\\n                    <option value=\"4\">4 Columns</option>\\n                    <option value=\"6\">6 Columns</option>\\n                </select>\\n            </div>\\n            <div class=\"widgets\"></div>\\n        </div>\\n    </div>\\n</div>';\n}\nreturn __p;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy90ZW1wbGF0ZXMvbWVudS1pdGVtLXNldHRpbmdzLnRlbXBsYXRlLmh0bWw/YzkzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iail7XG52YXIgX190LF9fcD0nJyxfX2o9QXJyYXkucHJvdG90eXBlLmpvaW4scHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcbndpdGgob2JqfHx7fSl7XG5fX3ArPSc8ZGl2IGNsYXNzPVwicmYtbWVudS1zZXR0aW5nc1wiPlxcblx0PGRpdiBjbGFzcz1cIm1lbnUtc2V0dGluZ3MtaGVhZGVyXCI+XFxuICAgICAgICA8aDM+JytcbigoX190PSggdGl0bGUgKSk9PW51bGw/Jyc6Xy5lc2NhcGUoX190KSkrXG4nPC9oMz5cXG4gICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJtZW51LXNldHRpbmdzLWNsb3NlXCI+eDwvYT5cdFx0XFxuXHQ8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cIm1lbnUtc2V0dGluZ3MtYm9keVwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1lbnUtc2V0dGluZ3Mtc2lkZWJhclwiPlxcbiAgICAgICAgICAgIDx1bD5cXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiYWN0aXZlXCI+PGEgaHJlZj1cIiNcIj5JdGVtczwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cIiNcIj5TZXR0aW5nczwvYT48L2xpPlxcbiAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZW51LXNldHRpbmdzLWNvbnRlbnRcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVudS1zZXR0aW5ncy1iYXJcIj5cXG4gICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPVwibnVtX2NvbHVtbnNcIiBpZD1cIlwiPlxcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjFcIj4xIENvbHVtbjwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjJcIj4yIENvbHVtbnM8L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIzXCI+MyBDb2x1bW5zPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiNFwiPjQgQ29sdW1uczwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjZcIj42IENvbHVtbnM8L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIndpZGdldHNcIj48L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG48L2Rpdj4nO1xufVxucmV0dXJuIF9fcDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3Jlc291cmNlcy90ZW1wbGF0ZXMvbWVudS1pdGVtLXNldHRpbmdzLnRlbXBsYXRlLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 1 */
/***/ function(module, exports) {

eval("module.exports = function(obj){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\nwith(obj||{}){\n__p+='<div class=\"widget-top\">\\n    <div class=\"widget-title-action\"></div>\\n    <div class=\"widget-title\">\\n        <h4>'+\n((__t=( title ))==null?'':_.escape(__t))+\n'</h4>\\n    </div>\\n</div>\\n<div class=\"widget-inner\"></div>\\n';\n}\nreturn __p;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy90ZW1wbGF0ZXMvbWVudS1pdGVtLnRlbXBsYXRlLmh0bWw/ODAzYSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iail7XG52YXIgX190LF9fcD0nJyxfX2o9QXJyYXkucHJvdG90eXBlLmpvaW4scHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcbndpdGgob2JqfHx7fSl7XG5fX3ArPSc8ZGl2IGNsYXNzPVwid2lkZ2V0LXRvcFwiPlxcbiAgICA8ZGl2IGNsYXNzPVwid2lkZ2V0LXRpdGxlLWFjdGlvblwiPjwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwid2lkZ2V0LXRpdGxlXCI+XFxuICAgICAgICA8aDQ+JytcbigoX190PSggdGl0bGUgKSk9PW51bGw/Jyc6Xy5lc2NhcGUoX190KSkrXG4nPC9oND5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz1cIndpZGdldC1pbm5lclwiPjwvZGl2Plxcbic7XG59XG5yZXR1cm4gX19wO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vcmVzb3VyY2VzL3RlbXBsYXRlcy9tZW51LWl0ZW0udGVtcGxhdGUuaHRtbFxuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

eval("(function($){\n\n    /**\n     * Menu Item Settings\n     */\n    var MenuItem = Backbone.Model.extend({\n        url: ajaxurl,\n        defaults: {\n            'id': 0,\n            'title': '',\n            'menu_id': '',\n            'depth': 0,\n            'columns': 3\n        },\n        save: function() {\n            var $params = {\n                emulateJSON: true, \n                data: { \n                    action: 'rf_menu_item_settings', \n                    data : this.toJSON() \n                } \n            };\n            return Backbone.sync( 'create', this, $params );\n        }\n    });\n\n\n    /**\n     * Menu Item Model\n     */\n    var Widget = Backbone.Model.extend({\n        defaults: {\n            'ID': '',\n            'title': '',\n            'menu_item_parent': ''\n        }\n    });\n\n    /**\n     * The child menu items\n     */\n    var Widgets = Backbone.Collection.extend({\n        model: Widget,\n        url: ajaxurl,\n        parse: function(response) {\n            _.each(response, function (element) {\n                if ( _.has(element, 'children') ) {\n                    var children = Object.keys(element.children).map(function (key) { return element.children[key]; });\n                    element.children = new Widgets(children, {\n                        parse: true\n                    });\n                }\n            });\n            return response;\n        }\n    });\n\n\n    /**\n     * Individual Menu Item View\n     */\n    var WidgetView = Backbone.View.extend({\n        tagName: 'div',\n        //className: 'widget',\n        attributes: {\n            \"class\": 'widget',\n            \"data-columns\": \"1\"\n        },\n        template: __webpack_require__(1),\n        events: {\n\n        },\n        initialize: function() {\n            this.columns = 1;\n        },\n        render: function() {\n            this.$el.html( this.template( this.model.toJSON() ));\n            return this;\n        }\n    });\n\n\n    /**\n     * Menu Item Group View\n     */\n    var WidgetListView = Backbone.View.extend({\n        initialize: function() {\n\n        }\n    });\n\n    /**\n     * Menu item settings\n     */\n    var RFMenuItemSettings = Backbone.View.extend({\n        className: 'rf-menu-settings-overlay',\n        template: __webpack_require__(0),\n        events: {\n            'click': 'close',\n            'click .menu-settings-close': 'close',\n            'change select[name=\"num_columns\"]': 'changeColumns'\n        },\n        initialize: function() {\n            this.widgets = new Widgets();\n            this.listenTo(this.widgets, 'add', this.addOne);\n\n            // Render the view\n            this.render();\n\n            // Fetch the menu items\n            this.widgets.fetch({\n                data: {\n                    action: 'rf_menu_items',\n                    menu_id: this.model.get('menu_id'),\n                    menu_item_id: this.model.get('id')\n                }\n            })\n        },\n        render: function() {\n            this.$el.html( this.template( this.model.toJSON() ) );\n\n            this.$el.find('.widgets').sortable();\n\n            return this;\n        },\n        addOne: function(model) {\n            var view = new WidgetView({model: model});\n            this.$el.find('.widgets').append(view.render().el);\n        },\n        changeColumns: function(e) {\n            var columns = $(e.target).val();\n\n            // this.model.save({columns: columns});\n\n            this.$el.find('.widgets').removeClass(function (index, className) {\n                return (className.match(/columns\\-/) || []).join(' ');\n            });\n        },\n        close: function(e) {\n            if(e.target !== e.currentTarget) return;\n            this.remove();\n        }\n    });\n\n    /**\n     * Setup the admin menu\n     */\n    var RFAdminMenu = Backbone.View.extend({\n        el: '#menu-to-edit',\n        initialize: function() {\n            this.$el.children().each(this.setupButtons);\n        },\n        setupButtons: function() {\n            var menu_item = $(this);\n            var menu_id = $('input#menu').val();\n            var title = menu_item.find('.menu-item-title').text();\n            var id = parseInt(menu_item.attr('id').match(/[0-9]+/)[0], 10);\n\n            var button = $(\"<span>\").addClass(\"button button-small\")\n                .html('Settings')\n                .on('click', function(e) {\n                    e.preventDefault();\n                    var depth = menu_item.attr('class').match(/\\menu-item-depth-(\\d+)\\b/)[1];\n\n                    var model = new MenuItem({id: id, title: title, depth: depth, menu_id: menu_id});\n                    var view = new RFMenuItemSettings({model: model});\n                    $('body').append(view.render().el);\n                });\n            $('.item-title', menu_item).append(button);\n        }\n    });\n\n    // Setup admin functionality for menu\n    $(function(){\n        new RFAdminMenu();\n    });\n})(jQuery);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9yZXNvdXJjZXMvanMvbWVudS1hZG1pbi5qcz83ODFhIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigkKXtcblxuICAgIC8qKlxuICAgICAqIE1lbnUgSXRlbSBTZXR0aW5nc1xuICAgICAqL1xuICAgIHZhciBNZW51SXRlbSA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIHVybDogYWpheHVybCxcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgICdpZCc6IDAsXG4gICAgICAgICAgICAndGl0bGUnOiAnJyxcbiAgICAgICAgICAgICdtZW51X2lkJzogJycsXG4gICAgICAgICAgICAnZGVwdGgnOiAwLFxuICAgICAgICAgICAgJ2NvbHVtbnMnOiAzXG4gICAgICAgIH0sXG4gICAgICAgIHNhdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICRwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgZW11bGF0ZUpTT046IHRydWUsIFxuICAgICAgICAgICAgICAgIGRhdGE6IHsgXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ3JmX21lbnVfaXRlbV9zZXR0aW5ncycsIFxuICAgICAgICAgICAgICAgICAgICBkYXRhIDogdGhpcy50b0pTT04oKSBcbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBCYWNrYm9uZS5zeW5jKCAnY3JlYXRlJywgdGhpcywgJHBhcmFtcyApO1xuICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgIC8qKlxuICAgICAqIE1lbnUgSXRlbSBNb2RlbFxuICAgICAqL1xuICAgIHZhciBXaWRnZXQgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgJ0lEJzogJycsXG4gICAgICAgICAgICAndGl0bGUnOiAnJyxcbiAgICAgICAgICAgICdtZW51X2l0ZW1fcGFyZW50JzogJydcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNoaWxkIG1lbnUgaXRlbXNcbiAgICAgKi9cbiAgICB2YXIgV2lkZ2V0cyA9IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgICAgICAgbW9kZWw6IFdpZGdldCxcbiAgICAgICAgdXJsOiBhamF4dXJsLFxuICAgICAgICBwYXJzZTogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIF8uZWFjaChyZXNwb25zZSwgKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIF8uaGFzKGVsZW1lbnQsICdjaGlsZHJlbicpICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBPYmplY3Qua2V5cyhlbGVtZW50LmNoaWxkcmVuKS5tYXAoKGtleSkgPT4geyByZXR1cm4gZWxlbWVudC5jaGlsZHJlbltrZXldOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jaGlsZHJlbiA9IG5ldyBXaWRnZXRzKGNoaWxkcmVuLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICAvKipcbiAgICAgKiBJbmRpdmlkdWFsIE1lbnUgSXRlbSBWaWV3XG4gICAgICovXG4gICAgdmFyIFdpZGdldFZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG4gICAgICAgIHRhZ05hbWU6ICdkaXYnLFxuICAgICAgICAvL2NsYXNzTmFtZTogJ3dpZGdldCcsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIFwiY2xhc3NcIjogJ3dpZGdldCcsXG4gICAgICAgICAgICBcImRhdGEtY29sdW1uc1wiOiBcIjFcIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi4vdGVtcGxhdGVzL21lbnUtaXRlbS50ZW1wbGF0ZS5odG1sJyksXG4gICAgICAgIGV2ZW50czoge1xuXG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5jb2x1bW5zID0gMTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLmh0bWwoIHRoaXMudGVtcGxhdGUoIHRoaXMubW9kZWwudG9KU09OKCkgKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICAvKipcbiAgICAgKiBNZW51IEl0ZW0gR3JvdXAgVmlld1xuICAgICAqL1xuICAgIHZhciBXaWRnZXRMaXN0VmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogTWVudSBpdGVtIHNldHRpbmdzXG4gICAgICovXG4gICAgdmFyIFJGTWVudUl0ZW1TZXR0aW5ncyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgY2xhc3NOYW1lOiAncmYtbWVudS1zZXR0aW5ncy1vdmVybGF5JyxcbiAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4uL3RlbXBsYXRlcy9tZW51LWl0ZW0tc2V0dGluZ3MudGVtcGxhdGUuaHRtbCcpLFxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgICdjbGljayc6ICdjbG9zZScsXG4gICAgICAgICAgICAnY2xpY2sgLm1lbnUtc2V0dGluZ3MtY2xvc2UnOiAnY2xvc2UnLFxuICAgICAgICAgICAgJ2NoYW5nZSBzZWxlY3RbbmFtZT1cIm51bV9jb2x1bW5zXCJdJzogJ2NoYW5nZUNvbHVtbnMnXG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy53aWRnZXRzID0gbmV3IFdpZGdldHMoKTtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuVG8odGhpcy53aWRnZXRzLCAnYWRkJywgdGhpcy5hZGRPbmUpO1xuXG4gICAgICAgICAgICAvLyBSZW5kZXIgdGhlIHZpZXdcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgICAgIC8vIEZldGNoIHRoZSBtZW51IGl0ZW1zXG4gICAgICAgICAgICB0aGlzLndpZGdldHMuZmV0Y2goe1xuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAncmZfbWVudV9pdGVtcycsXG4gICAgICAgICAgICAgICAgICAgIG1lbnVfaWQ6IHRoaXMubW9kZWwuZ2V0KCdtZW51X2lkJyksXG4gICAgICAgICAgICAgICAgICAgIG1lbnVfaXRlbV9pZDogdGhpcy5tb2RlbC5nZXQoJ2lkJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy4kZWwuaHRtbCggdGhpcy50ZW1wbGF0ZSggdGhpcy5tb2RlbC50b0pTT04oKSApICk7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy53aWRnZXRzJykuc29ydGFibGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZE9uZTogZnVuY3Rpb24obW9kZWwpIHtcbiAgICAgICAgICAgIHZhciB2aWV3ID0gbmV3IFdpZGdldFZpZXcoe21vZGVsOiBtb2RlbH0pO1xuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLndpZGdldHMnKS5hcHBlbmQodmlldy5yZW5kZXIoKS5lbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoYW5nZUNvbHVtbnM6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBjb2x1bW5zID0gJChlLnRhcmdldCkudmFsKCk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMubW9kZWwuc2F2ZSh7Y29sdW1uczogY29sdW1uc30pO1xuXG4gICAgICAgICAgICB0aGlzLiRlbC5maW5kKCcud2lkZ2V0cycpLnJlbW92ZUNsYXNzKChpbmRleCwgY2xhc3NOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChjbGFzc05hbWUubWF0Y2goL2NvbHVtbnNcXC0vKSB8fCBbXSkuam9pbignICcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZihlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0KSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBTZXR1cCB0aGUgYWRtaW4gbWVudVxuICAgICAqL1xuICAgIHZhciBSRkFkbWluTWVudSA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgICAgICAgZWw6ICcjbWVudS10by1lZGl0JyxcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5jaGlsZHJlbigpLmVhY2godGhpcy5zZXR1cEJ1dHRvbnMpO1xuICAgICAgICB9LFxuICAgICAgICBzZXR1cEJ1dHRvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG1lbnVfaXRlbSA9ICQodGhpcyk7XG4gICAgICAgICAgICB2YXIgbWVudV9pZCA9ICQoJ2lucHV0I21lbnUnKS52YWwoKTtcbiAgICAgICAgICAgIHZhciB0aXRsZSA9IG1lbnVfaXRlbS5maW5kKCcubWVudS1pdGVtLXRpdGxlJykudGV4dCgpO1xuICAgICAgICAgICAgdmFyIGlkID0gcGFyc2VJbnQobWVudV9pdGVtLmF0dHIoJ2lkJykubWF0Y2goL1swLTldKy8pWzBdLCAxMCk7XG5cbiAgICAgICAgICAgIHZhciBidXR0b24gPSAkKFwiPHNwYW4+XCIpLmFkZENsYXNzKFwiYnV0dG9uIGJ1dHRvbi1zbWFsbFwiKVxuICAgICAgICAgICAgICAgIC5odG1sKCdTZXR0aW5ncycpXG4gICAgICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVwdGggPSBtZW51X2l0ZW0uYXR0cignY2xhc3MnKS5tYXRjaCgvXFxtZW51LWl0ZW0tZGVwdGgtKFxcZCspXFxiLylbMV07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gbmV3IE1lbnVJdGVtKHtpZCwgdGl0bGUsIGRlcHRoLCBtZW51X2lkfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gbmV3IFJGTWVudUl0ZW1TZXR0aW5ncyh7bW9kZWw6IG1vZGVsfSk7XG4gICAgICAgICAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQodmlldy5yZW5kZXIoKS5lbCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKCcuaXRlbS10aXRsZScsIG1lbnVfaXRlbSkuYXBwZW5kKGJ1dHRvbik7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFNldHVwIGFkbWluIGZ1bmN0aW9uYWxpdHkgZm9yIG1lbnVcbiAgICAkKGZ1bmN0aW9uKCl7XG4gICAgICAgIG5ldyBSRkFkbWluTWVudSgpO1xuICAgIH0pO1xufSkoalF1ZXJ5KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2pzL21lbnUtYWRtaW4uanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ]);